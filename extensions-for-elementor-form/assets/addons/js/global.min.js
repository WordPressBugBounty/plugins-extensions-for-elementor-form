"use strict";let formRepeaterFields=[],formRepeaterFieldsLast=null,getTagStatus=!1;const addDynamicTags=element=>{jQuery('.elementor-control-tag-area[data-setting="cfef_logic_field_id"]').on("click",(function(e){"ok"!=jQuery(this).data("check")&&(jQuery(this).after('<div class="elementor-control-dynamic-switcher elementor-control-unit-1 cfef-add-tag" data-tooltip="add Tags" original-title=""><i class="eicon-database" aria-hidden="true"></i><span class="elementor-screen-only">Dynamic Tags</span></div>'),jQuery(this).data("check","ok"))})),jQuery('.elementor-control-tag-area[data-setting="cfef_logic_field_id"]').on("click",(function(e){"ok"!=jQuery(this).data("check")&&(jQuery(this).after('<div class="elementor-control-dynamic-switcher elementor-control-unit-1 cfef-add-tag" data-tooltip="add Tags" original-title=""><i class="eicon-database" aria-hidden="true"></i><span class="elementor-screen-only">Dynamic Tags</span></div>'),jQuery(this).data("check","ok"))})),jQuery(".cfef-add-tag").on("click",(function(e){var html='<ul class="cfef-dynamic-tag">';let formFields=jQuery(this).closest(".elementor-repeater-fields-wrapper").parents(".elementor-repeater-fields-wrapper").find(".elementor-form-field-shortcode");this.closest(".elementor-control-cfef_repeater_data_cfefp_submit")&&(formFields=formRepeaterFields),jQuery(formFields).each((function(){const regex=/\".*?\"/gm;let m;for(var name=jQuery(this).val();null!==(m=regex.exec(name));)m.index===regex.lastIndex&&regex.lastIndex++,m.forEach((match,groupIndex)=>{name=match.replaceAll('"',"")});html+='<li title="Copy ID">'+name+"</li>"})),html+="</ul>",jQuery(this).closest(".elementor-control-input-wrapper").append(html)})),jQuery(".cfef-dynamic-tag li").on("click",(function(event){var selectedValue=this.innerHTML;jQuery(this).parent().siblings().val(selectedValue),jQuery(this).parent().siblings().trigger("input"),jQuery("#elementor-panel-saver-button-publish")[0].classList.contains("elementor-disabled")&&jQuery("#elementor-panel-saver-button-publish")[0].classList.remove("elementor-disabled"),setTimeout((function(){jQuery(".cfef-dynamic-tag").remove()}),500)}))},stopBubbling=event=>{addDynamicTags(),event.stopPropagation()},customRepeaterField=element=>{element[0].addEventListener("click",stopBubbling)};window.addEventListener("elementor/init",(function(){var RepeaterControlItemView=elementor.modules.controls.Repeater.extend({onBeforeRender:function(){(this.$el.hasClass("elementor-control-cfef_repeater_data")||this.$el.hasClass("elementor-control-choices"))&&customRepeaterField(this.$el),this.$el.hasClass("elementor-control-cfef_repeater_data_cfefp_submit")&&customRepeaterField(this.$el),(this.$el.hasClass("elementor-control-cfef_repeater_data")||this.$el.hasClass("elementor-control-cfef_repeater_data_cfefp_submit"))&&setTimeout(()=>{addDynamicTags(this.$el)})},onDestroy:function(){if(this.$el.closest(".elementor-control-type-form-fields-repeater")){const elements=this.$el.closest(".elementor-repeater-fields-wrapper").find(".elementor-form-field-shortcode");setTimeout(()=>{getTagStatus||(formRepeaterFields=[],getTagStatus=!0,elements.each((indx,ele)=>{formRepeaterFields.push(ele)}))}),setTimeout(()=>{getTagStatus&&(getTagStatus=!1)},300)}}});elementor.addControlView("repeater",RepeaterControlItemView)})),function($){jQuery(document).on("click","#cfef_elementor_review_dismiss",event=>{jQuery(".cfef_elementor_review_notice").hide();const btn=jQuery(event.target),nonce=btn.data("nonce"),url=btn.data("url");jQuery.ajax({type:"POST",url:url,data:{action:"cfef_elementor_review_notice",cfef_notice_dismiss:!0,nonce:nonce},success:response=>{btn.closest(".elementor-control").remove()},error:(xhr,status,error)=>{console.log(xhr.responseText),console.log(error),console.log(status)}})})}(jQuery);